
# This is the main configuration file for the application.
# https://www.playframework.com/documentation/latest/ConfigFile
# ~~~~~
# Play uses HOCON as its configuration file format.  HOCON has a number
# of advantages over other config formats, but there are two things that
# can be used when modifying settings.
#
# You can include other configuration files in this main application.conf file:
#include "extra-config.conf"
#
# You can declare variables and substitute for them:
#mykey = ${some.value}
#
# And if an environment variable exists when there is no other subsitution, then
# HOCON will fall back to substituting environment variable:
#mykey = ${JAVA_HOME}

## Akka
# https://www.playframework.com/documentation/latest/ScalaAkka#Configuration
# ~~~~~
# Play uses Akka internally and exposes Akka Streams and actors in Websockets and
# other streaming HTTP responses.

#https://www.playframework.com/documentation/2.5.x/ScalaAkka#Built-in-actor-system-name
play.akka.actor-system = "ClusterSystem"

akka {


  #Akka logging configuration
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  loglevel = "DEBUG"

  # "akka.log-config-on-start" is extraordinarly useful because it log the complete
  # configuration at INFO level, including defaults and overrides, so it s worth
  # putting at the very top.
  #
  # Put the following in your conf/logback.xml file:
  #
  # <logger name="akka.actor" level="INFO" />
  #
  # And then uncomment this line to debug the configuration.
  #
  #log-config-on-start = true


  #to configure the default dispatcher of the application actor system
  actor.default-dispatcher.fork-join-executor.parallelism-max = 64
  actor.debug.receive = on

  actor.provider = "akka.cluster.ClusterActorRefProvider"
  akka.extensions = ["akka.cluster.client.ClusterClientReceptionist", "akka.cluster.pubsub.DistributedPubSub"]

  remote.netty.tcp {
    hostname = "127.0.0.1"
    hostname = ${?PROCESSOR_HOSTNAME}
    port = 2552
    port = ${?PROCESSOR_PORT}
  }

  cluster {
    roles = ["processors"]
    seed-nodes = ["akka.tcp://ClusterSystem@127.0.0.1:2552", "akka.tcp://ClusterSystem@127.0.0.1:2553"]
    auto-down = on

  }

}

## Modules
# https://www.playframework.com/documentation/latest/Modules
# ~~~~~
# Control which modules are loaded when Play starts.  Note that modules are
# the replacement for "GlobalSettings", which are deprecated in 2.5.x.
# Please see https://www.playframework.com/documentation/latest/GlobalSettings
# for more information.
#
# You can also extend Play functionality by using one of the publically available
# Play modules: https://playframework.com/documentation/latest/ModuleDirectory
play.modules {
  # By default, Play will load any class called Module that is defined
  # in the root package (the "app" directory), or you can define them
  # explicitly below.
  # If there are any built-in modules that you want to enable, you can list them here.
  enabled += com.processors.modules.RegistrationModule


}

